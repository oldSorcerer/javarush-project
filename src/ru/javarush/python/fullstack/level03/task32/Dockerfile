# Используем базовый образ Python
FROM python:3.9-slim

# Устанавливаем переменные окружения для каждого этапа
# Эти переменные могут быть изменены во время сборки, используя аргументы
ARG ENVIRONMENT
ENV MY_ENVIRONMENT=${ENVIRONMENT}

# Добавляем файл приложения в контейнер
COPY app.py /app.py

# Устанавливаем рабочую директорию
WORKDIR /

# Запускаем приложение
CMD ["python", "app.py"]